---
import Head from "../components/head.astro";
import MenuEditor from "../components/MenuEditor";
import Toolbar from "../components/Toolbar.astro";
import queryBuilder from "../utils/queryBuilder";


const initializeMenu = async () => {
  try {
    await queryBuilder.initializeProject();
  } catch (error) {
    console.error("Ошибка инициализации меню:", error);
  }
};

await initializeMenu();
---

<Head title="Создание меню">
    <div class="create-menu">
        <div class="sidebar">
            <a href="/" draggable="false">
                <div class="logo">ÆGIRINE</div>
                <img class="logo-image" src="/createlogo.png" alt="Logo" />
            </a>
            <div class="toolbar">
                <Toolbar />
            </div>
        </div>

        <MenuEditor client:load />
    </div>
</Head>
